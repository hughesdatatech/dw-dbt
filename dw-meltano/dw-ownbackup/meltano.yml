version: 1
default_environment: dev
project_id: 2b7287b5-e884-4921-93b6-1d54bd3cf4f2
environments:
- name: dev
  config:
    plugins:
      extractors:
      - name: tap-rest-api-msdk
        config:
          name: stg-pagov-opioidstays
          api_url: https://data.pa.gov/resource/r2n4-n2i4.json
          "streams": [
            {
                "name": "stg-pagov-opioidstays",
                "path": "/",
                "primary_keys": ["county_name"]
            }
          ]
      loaders:
      - name: target-snowflake
        config:
          account: dqb41319.us-east-1
          dbname: dw_dev
          user: shughes
          password: Q!B0oimh0o
          warehouse: DW_WH_XS
          file_format: dw_dev.dbt_steve.json_format
          role: accountadmin
          default_target_schema: dbt_steve
          s3_bucket: arn:aws:s3:us-east-1:774809006633:accesspoint/stage-ap
          stage: dbt_steve.hughedatatech_ext_s3_stage
          aws_access_key_id: AKIA3IZRXGIUUB2ZS36Z
          aws_secret_access_key: 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
- name: staging
- name: prod
plugins:
  extractors:
  - name: tap-rest-api-msdk
    variant: widen
    pip_url: tap-rest-api-msdk
  loaders:
  - name: target-snowflake
    variant: transferwise
    pip_url: pipelinewise-target-snowflake
    