version: 2

sources:
  - name: stripe_mobile
    description: Data from our Stripe Mobile account, via Data Pipeline.
    tables:
      - name: balance_transactions
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: balance_transaction_fee_details
      - name: charge_groups
      - name: charges
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: charges_metadata
      - name: coupons
      - name: coupons_metadata
      - name: credit_note_line_item_tax_amounts
      - name: credit_note_line_items
      - name: credit_notes
      - name: credit_notes_metadata
      - name: customers
      - name: disputes
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: disputes_metadata
      - name: early_fraud_warnings
      - name: exchange_rates_from_usd
      - name: invoice_items
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: date
            interval: 24
      - name: invoice_items_metadata
      - name: invoice_line_items
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: period_start
            interval: 24
      - name: invoices
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: date
            interval: 24
      - name: invoices_metadata
      - name: payment_intents
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: payment_intents_metadata
      - name: payment_reviews
      - name: plans
      - name: plans_metadata
      - name: prices
      - name: prices_metadata
      - name: products
      - name: products_metadata
      - name: refunds
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: refunds_metadata
      - name: rule_decisions
      - name: subscription_items
      - name: subscriptions
        tests:
        - dbt_utils.recency:
            datepart: hour
            field: created
            interval: 24
      - name: subscriptions_metadata
      - name: tax_rates
      - name: transfer_reversals
      - name: transfers
